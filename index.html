<!DOCTYPE html>
<html>
<head>
    <title>Sensei</title>
    <style>
        #jsonOutput {
            white-space: pre-wrap;       /* Since JSON is formatted with white space */
            word-wrap: break-word;       /* To prevent horizontal scrolling */
            background-color: #f4f4f4;   /* Light grey background */
            border: 1px solid #ddd;      /* Adding a border */
            padding: 10px;               /* Some padding for aesthetics */
            font-family: 'Courier New', monospace; /* Font change to monospace */
        }
    </style>
</head>
<body>
    <form id="chatForm">
        <label for="prompt">Enter your prompt:</label>
        <br>
        <textarea id="prompt" name="prompt" rows="4" cols="50"></textarea>
        <br>
        <button type="submit">Send</button>
    </form>
    <pre id="jsonResponse"></div>

    <script>
        document.getElementById('chatForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const prompt = document.getElementById('prompt').value;
            fetch('/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ prompt }),
            })
            .then(response => response.json())
            .then(data => {
                console.log("data", data);
                document.getElementById('jsonResponse').textContent = JSON.stringify(data, null, 2);
            })
            .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>
